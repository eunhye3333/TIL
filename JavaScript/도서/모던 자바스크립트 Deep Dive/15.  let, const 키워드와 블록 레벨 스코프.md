# 15. let, const 키워드와 블록 레벨 스코프

## 15.1 var 키워드로 선언한 변수의 문제점

### 15.1.1 변수 중복 선언 허용

var 키워드로 선언한 변수는 같은 스코프 내에서 중복 선언을 허용함

중복 선언되는 경우 초기화문이 있는 변수 선언문은 해당 값을 기존 변수에 할당하고, 초기화문이 없는 변수 선언문은 무시됨

<br>

### 15.1.2 함수 레벨 스코프

var 키워드로 선언한 변수는 함수의 코드 블록만을 지역 스코프로 인정

따라서 함수 외부에서 선언하는 경우 코드 블록 내에 선언해도 모두 전역 변수가 됨

함수 레벨 스코프는 전역 변수를 남발할 가능성을 높임

<br>

### 15.1.3 변수 호이스팅

var 키워드로 변수를 선언하면 변수 호이스팅이 일어나기 때문에 변수 선언문 이전에 참조 가능 → 가독성 저하

<br>

## 15.2 let 키워드

ES6에서 도입된 키워드

<br>

### 15.2.1 변수 중복 선언 금지

let 키워드로 이름이 같은 변수를 중복 선언하는 경우 문법 에러 발생

<br>

### 15.2.2 블록 레벨 스코프

let 키워드로 선언한 변수는 모든 코드 블록을 지역 스코프로 인정하는 블록 레벨 스코프를 따름

<br>

### 15.2.3 변수 호이스팅

let 키워드로 선언한 키워드는 변수 호이스팅이 발생하지 않는 것처럼 동작함 (변수 선언 이전에 참조 시 참조 에러 발생)

let 키워드로 선언한 변수는 선언 단계와 초기화 단계가 분리되어 진행됨 따라서 초기화 단계 실행 전 변수를 참조하는 경우 에러 발생

일시적 사각지대: 스코프의 시작 지점부처 초기화 시작 지점까지 변수를 참조할 수 없는 구간

자바스크립트는 모든 선언을 호이스팅하나, ES6에서 도입된 let, const, class를 사용한 선언문은 호이스팅이 발생하지 않은 것처럼 실행됨

<br>

### 15.2.4 전역 객체와 let

var 키워드로 선언한 전역 변수/함수, 암묵적 전역은 전역 객체 window의 프로퍼티이기 때문에 전역 객체의 프로퍼티 참조 시 window 생략 가능

let 키워드로 선언한 전역 변수의 경우 전역 객체의 프로퍼티가 아니기 때문에 전역 객체를 통한 참조 불가능

<br>

## 15.3 const 키워드

const 키워드는 상수를 선언하기 위해 사용됨

<br>

### 15.3.1 선언과 초기화

const 키워드로 선언한 변수는 반드시 선언과 동시에 초기화하여야 함

<br>

### 15.3.2 재할당 금지

const 키워드로 선언한 변수는 재할당이 금지됨

<br>

### 15.3.3 상수

상수: 재할당이 금지된 변수

const 키워드로 선언된 변수에 원시 값을 할당한 경우 원시 값은 변경할 수 없는 값이기 때문에 할당된 값을 변경할 수 없음

<br>

### 15.3.4 const 키워드와 객체

const 키워드로 선언된 변수에 객체를 할당한 경우 값 변경 가능

→ const 키워드는 재할당을 금지할 뿐 불변을 의미하지 않기 때문

<br>

## 15.4 var vs. let vs. const

- ES6를 사용하는 경우 var 키워드는 사용하지 말것
- 재할당이 필요한 경우 let 키워드 사용 (이때 변수의 스코프틑 최대한 좁게)
- 변경이 발생하지 않고 읽기 전용인 경우 const 키워드 사용