# 카프카 기본 개념

## 아파치 카프카 생태계

- 프로듀서 : 데이터를 보내는 역할
- 컨슈머 : 데이터를 처리하는 역할
- 스트림즈 : 프로세싱을 통해 토픽에 있는 데이터를 처리하고 다시 토픽으로 넣는 역할
- 커넥트 : 데이터 파이프라인을 운영하는 가장 핵심적인 툴, 클러스터로 운영, 파이프라인을 템플릿 형태로 반복적으로 여러 번 생성, 함께 운영하는 특징을 가짐
  - 소스 커넥터 : 프로듀서 역할, 특정 데이터베이스나 소스 애플리케이션으로부터 데이터를 가져와 토픽에 데이터를 넣음
  - 싱크 커넥터 : 컨슈머 역할, 타겟 애플리케이션으로 데이터를 보내는 역할
- 미러 메이커2 : 클러스터 단위로 카프카를 운영할 때 토픽에 있는 데이터를 완벽하게 복제하기 위해 사용

<br>



 ## 카프카 브로커와 클러스터

### 주키퍼

카프카 클러스터를 운영하기 위해 반드시 필요한 애플리케이션



### 브로커

하나의 카프카 클러스터는 여러 개의 브로커로 이루어져 있는데, 하나의 브로커는 서버나 인스턴스에서 동작됨

카프카 브로커 서버 1대로도 기본 기능이 실행되지만 데이터를 안전하게 보관하고 처리하기 위해 3대 이상의 브로커 서버를 1개의 클러스터로 묶어서 운영

<br>



## 카프카 클러스터와 주키퍼

- 카프카 클러스터를 실행하기 위해서는 주키퍼가 필요함
- 하나의 주키퍼 앙상블에는 여러 종류의 클러스터를 운영 가능
- 주키퍼의 서로 다른 znode에 클러스터를 지정하면 됨
- root znode에 각 클러스터별 znode를 생성하고 클러스터 실행 시 root가 아닌 하위 znode로 설정
- 카프카 3.0부터는 주키퍼가 없어도 클러스터 동작 가능



