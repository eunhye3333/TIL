# 웹, 네트워크 기본

## 웹과 HTTP

클라이언트는 URL을 통해 웹 서버로부터 데이터를 얻음

** 클라이언트 : 서버에 의뢰를 하는 웹 브라우저 등을 말함

<br>



HTTP(HyperText Transfer Protocol) : 클라이언트에서 서버까지 일련의 흐름을 결정하는 프로토콜로 웹은 HTTP라는 약속을 사용한 통신으로 이루어짐

** 프로토콜 : 약속이라는 의미

<br>



## HTTP의 탄생 및 성장

### 웹의 탄생

HTTP의 탄생

- 1989년 3월
- CERN의 팀 버너스 리 박사가 멀리 떨어져 있는 동료 연구자와 지식을 공유할 수 있는 시스템으로써 고안
- 이는 여러 문서를 상호 간에 관련 짓는 하이퍼 텍스트에 의해 상호 간에 참조할 수 있는 WWW(World Wide Web)의 기본 개념이 됨

<br>



WWW : 만들어질 당시에는 하이퍼텍스트를 열람할 수 있는 클라이언트 애플리케이션의 명칭이었으며, 현재에는 일련의 시스템의 명칭으로 사용됨

WWW를 구성하는 기술

- 문서 기술 언어 : SGML을 베이스로 한 HTML(HyperText Markup Language)
- 문서 전송 프로토콜 : HTTP
- 문서의 주소를 저장하는 방법 : URL(Uniform Resource Locator)

<br>



### 웹의 성장

- HTML1.0 : 1990년 검토되었으나 애매한 부분이 많아 초안인 상태로 폐기

- 모자이크 : 1993년 1월 NCSA에서 개발한 웹 브라우저의 선조격

- 인터넷 익스플로러 : 1995년 마이크로소프트사에서 출시

  해당 무렵 아파치 0.2의 등장 및 HTML 2.0 발행

이후 독자적으로 HTML을 확장하는 마이크로소프트사와 넷스케이프사에 의해 브라우저 경쟁 과열 

<br>



### HTTP의 역사

- HTTP/0.9 : 1990년 처음 등장한 HTTP는 당시에는 정식 사양서가 아니었기 때문에 1.0 이전이라는 의미로 HTTP/0.9로 불림
- HTTP/1.0 : 1996년 5월 정식 사양으로 공개되었으며 HTTP/1.0으로 RFC1945가 발행됨
- HTTP/1.1 : 1997년 1월에 공개된 버전으로 당시 사양은 RFC2068이었으나 RFC2616으로 개정됨

HTTP는 등장 당시에는 주로 텍스트를 전송하기 위한 프로토콜이었으나, 현재는 웹이라는 틀을 넘어 다양하게 사용됨

<br>



## TCP/IP

### TCP/IP란

인터넷과 관련된 프로토콜을 모은 것으로 IP 프로토콜을 사용한 통신에서 사용되고 있는 프로토콜을 총칭해서 부름

** 프로토콜 : 서로 다른 하드웨어와 운영체제 간에 서로 통신을 하기 위해 필요한 규칙

<br>



### TCP/IP의 계층

TCP/IP는 계층으로 관리됨

TCP/IP 계층화로 인한 메리트

- 사양이 변경되었을 때 전체를 바꾸지 않고 변경된 해당 계층만 바꿀 수 있음
- 각 계층은 계층이 연결되어 있는 부분만 결정되어 있기 때문에 계층 내부를 자유롭게 설계 가능
- 설계가 편리함

<br>



#### TCP/IP의 각 계층의 역할

- 애플리케이션 계층 : 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정 (FTP, DNS, HTTP 등)

- 트랜스포트 계층 : 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름 제공 (TCP, UDP)

- 네트워크 계층 : 네트워크 상에서 패킷의 이동을 다루는데 어떠한 경로를 거쳐 상대의 컴퓨터까지 패킷을 보낼지 결정

  ** 패킷 : 전송하는 데이터의 최소 단위

- 링크 계층(데이터 링크 계층) : 네트워크에 접속하는 하드웨어적인 면을 다루며 운영체제가 하드웨어를 제어하기 때문에 디바이스 드라이버와 네트워크 인터페이스 카드 포함

<br>



### TCP/IP 통신의 흐름

1. 송신측 클라이언트의 애플리케이션 계층에서 HTTP 리퀘스트 지시
2. 트랜스포트 계층에서 데이터를 통신하기 쉽게 조각내어 안내 번호와 포트 번호를 붙여 네크워크 계층에 전달
3. 네트워크 계층에서 수신지 MAC 주소를 추가해 링크 계층에 전달
4. 수신측 서버는 링크 계층에서 데이터를 받아들여 순서대로 위의 계층에 전달

송신측에서는 계층을 통과할 때마다 헤더를 추가, 수신측에서는 계층을 통과할 때마다 헤더 삭제(캡슐화)

​	HTTP 메시지 → TCP 세그멘토 → IP 데이터그램 → 네트워크 프레임

<br>



## HTTP와 관계 깊은 프로토콜

### IP

IP(Internet Protocol)는 네트워크 계층에 해당하며 개개의 패킷을 상대방에게 전달하는 역할을 함 전달 시 여러 요소가 필요한데, 이중 IP 주소와 MAC 주소가 중요함

- IP  주소 : 각 노드에 부여된 주소로 MAC 주소와 결부됨

- MAC 주소 : 각 네트워크 카드에 할당된 고유의 주소

  IP 주소는 변경 가능하나 MAC 주소는 변경 불가능

<br>



#### IP 통신 방법

IP 통신은 MAC 주소에 의존하여 통신하며, ARP(Address Resolution Protocol) 프로토콜 사용

** ARP : 주소를 해결하기 위한 프로토콜 중 하나로 수신지의 IP 주소를 바탕으로 MAC 주소를 조사 가능

<br>



라우팅 : 목적지까지 중계를 하는 도중 컴퓨터와 라우터 등의 네트워크 기기는 목적지에 도달하기 까지 대략적인 목적지만 알고 있음 따라서 어떤 컴퓨터나 네트워크 기기도 인터넷 전체를 상세하게 파악하고 있지 않음

<br>



### TCP

TCP(Transfer Control Protocol)는 트랜스포트 계층에 해당하며 신뢰성 있는 바이트 스트림 서비스 제공

** 바이트 스트림 서비스 : 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리하는 것

<br>



상대방에게 확실하게 데이터를 보내는 신뢰성 있는 서비스를 제공학 위해 TCP는 three way handshaking이라는 방법을 사용

three way handshaking : SYN과 ACK라는 TCP 플래그를 사용해 패킷이 보내졌는지 여부를 확인

1. 송신측에서는 최초 SYN 플래그로 상대에게 접속함과 동시에 패킷을 보냄
2. 수신측에서는 SYN/ACK 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 전함
3. 송신측이 ACK 플래그를 보내 패킷 교환이 완료되었음을 전함

​	해당 과정에서 통신이 끊어지는 경우 TCP는 그와 동시에 같은 수순으로 패킷 재전송

<br>



### DNS

DNS(Domain Name Service)는 HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공

<br>



## URI와 URL

### URL 

URL(Uniform Resource Locator) : 웹 페이지를 표시하기 위해 입력하는 주소

<br>



### URI

URI(Uniform Resource Identifiers) : 스키마를 나타내는 리소스를 식별하기 위한 식별자

- Uniform : 통일된 서식을 결정하는 것으로 여러 가지 종류의 리소스 지정 방법을 같은 맥락에서 구별없이 취급할 수 있게 하며 새로운 스키마(http:, ftp 등) 더입을 용이하게 함
- Resource : 식별 가능한 모든 것
- Identifier : 식별 가능한 것을 참조하는 오브젝트이며 식별자로 불림





URI는 리소스를 식별하기 위해 문자열 전반을 나타내는데 비해 URL은 리소스의 장소(네트워크 상의 위치)를 나타냄 

URL은 URI의 서브셋

<br>



### URL 포맷

절대 URI 포맷

```http://user:pass@www.example.com:80/dir/index/htm?uid=1#ch1```

http: : 스키마로 리소스를 얻기 위해 사용하는 프로토콜을 지시

user:pass : 자격 정보(크리덴셜)로 서버로부터 리소스를 취득하려면 필요함 (옵션)

www.example.com : 서버 주소 (DNS 이름. IPv4 주소, IPv6 주소)

80 : 서버 포트로 서버의 접속 대상이 되는 네트워크 포트 번호를 지정하며 생략하는 경우 디폴트 포트 사용 (옵션)

dir/index/htm : 계층적 파일 패스로 특정 리소스를 식별하기 위해 서버 상의 파일 패스 지정

uid=1 : 쿼리 문자열로 파일 패스로 지정된 리소스에 임의의 파라미터를 넘기기 위해 사용 (옵션)

ch1 : 프래그먼트 식별자로 취득한 리소스에서 서브 리소스를 가리키기 위해 사용 (옵션)

